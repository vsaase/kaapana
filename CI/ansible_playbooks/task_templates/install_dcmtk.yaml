---
- name: install DCMTK on CentOS
  hosts: devserver

  tasks:
    - name: install the nux-dextop-release rpm from a remote repo
      yum:
        name: https://li.nux.ro/download/nux/dextop/el7/x86_64/nux-dextop-release-0-5.el7.nux.noarch.rpm
        state: present
      when: ansible_facts['distribution'] == "CentOS"

    - name: install dcmtk-devel
      yum:
        name: dcmtk-devel
        state: present
      when: ansible_facts['distribution'] == "CentOS"
    
    - name: install dcmtk debian
      package:
        name: dcmtk
        state: present
      when: ansible_facts['os_family'] == "Debian"
